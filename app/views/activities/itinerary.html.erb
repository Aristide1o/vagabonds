<!DOCTYPE HTML>
<html>
<head>
  <title>Vagabonds - Itinerary</title>
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <%= stylesheet_link_tag "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />



  <!-- GET THE GOOGLE MAP API -->
  <script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

  <script type="text/javascript">

      // Initialize google map
      var map;
      $(window).load(
              // Map initializer
              function initialize() {
                  debugger
                  var mapOptions = {
                      center : new google.maps.LatLng(37.772886,-122.419496),
                      zoom : 8,
                      draggable : true,
                      draggingCursor : 'pointer',
                      mapTypeControl : true,
                      disableDoubleClickZoom : true,
                      streetViewControl : false,

                      mapTypeId : google.maps.MapTypeId.ROADMAP
                      // take out street view
                  };
                  map = new google.maps.Map(document.getElementById("map_canvas"),
                          mapOptions);
              }

      );

      // Pimp the DOM
      var availableTags = [
          "Hiking",
          "Brunch",
          "Museums",
          "Biking",
          "Beach",
          "Concert"
      ];

      $(function() {
          // Datepicker
          $( "#start_date" ).datepicker();
          $( "#end_date" ).datepicker();

          // tags
          $('.expand-one').click(function(){
              $('.content-one').slideToggle('slow');
          });
          $('#tags').tagsInput({
              autocomplete_url: availableTags

          });
          $('.activity').click(function(evt){
              $('#tags').addTag($(evt.target).text());});

          //slider
          $('.itineraryslider').itineraryslider({
              slideshow: false
          });

          //changing options
          $('.close_activity').click(function(){
              $(this).closest('.act').toggle();
              $('.options').toggle();
          });

          $('.close_options').click(function(){
              $('.options').toggle();
              $('#commute1').toggle();
          });
      });
      //set form values
      $(document).ready(function()
      {
          var formData = location.search;
          formData = formData.substring(1, formData.length);

          formData = unescape(formData);
          var formArray = formData.split("&");
          var startDate = formArray[0].substring(formArray[0].indexOf("=")+1, formArray[0].length);
          var endDate = formArray[1].substring(formArray[1].indexOf("=")+1, formArray[1].length);
          var budget = formArray[2].substring(formArray[2].indexOf("=")+1, formArray[2].length);

          $('#start_date').val(startDate);
          $('#end_date').val(endDate);
          $('#budget').val(budget);

      });
  </script>
</head>
<body>
<%= render :partial => "./layouts/header" %>
<div id="content">
<div class="wrapper">
  <form>
    <label for="start_date">Start Date: </label>
    <input name="start_date" id="start_date" type="text">
    <label for="end_date">End Date: </label>
    <input name="end_date" id="end_date" type="text">
    <label for="budget">Budget: </label>
    <select name="budget" id = "budget">
      <option value="free">Free</option>
      <option value="cheap">Cheap</option>
      <option value="Moderate" selected>Moderate</option>
      <option value="dont-care">Don't Care</option>
    </select>
    <div class="activity-tags">
      <p class="expand-one">
        <label for="tags" class="tags_input">Preferred Activities:&nbsp&nbsp</label>
        <input name="tags" id="tags" value="Hiking, Brunch, Concert"/>
      </p>
      <p class="content-one">
        <span class = "activity">Hiking</span> |
        <span class = "activity">Brunch</span> |
        <span class = "activity">Museums</span> |
        <span class = "activity">Biking</span> |
        <span class = "activity">Beach</span> |
        <span class = "activity">Concert</span>
      </p>
    </div>
    <input class="auto-update" type="submit" value="Make Itinerary">
  </form>

</div>
<!-- On the left the schedule; on the right the map, location description, and save itinerary button -->
<div class="itinerary">
  <div id="schedule" class="itinerary_panel left">
    <div class="itineraryslider">
      <ul class="slides">
        <li class="day">
          <div class="title">DAY 1</div>
          <div class="act">
            <%= image_tag "muir-woods.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Hiking in Muir Woods
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">9:00 am - 12:00 pm</div>
              <div class="act-cost">$</div>

            </div>
            <div class="act-more">  <a href="details.html">+</a>  <span class="close_activity">x</span></div>
          </div>
          <!--More Options-->
          <div class="options">
            Other available activities at this time:
            <div class="close_options">x</div> <br/>
            <%= image_tag "twinpeaks.jpg"%> Hike to Twin Peaks Summit<br/><br/>
            <%= image_tag"marinheadlands.jpg"%>
            Hike to Marin Headlands
          </div>
          <!--Commute details-->
          <!--id hack for now--> 	<div id="commute1" class="commute_detail">
          <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 30 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
        </div>


          <div class="act">
            <%= image_tag "parksidecafe.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Brunch at Parkside Cafe
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">12:00 pm - 2:00 pm</div>
              <div class="act-cost">$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 25 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>
          <div class="act">
            <%= image_tag "goldengate.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Golden Gate Bridge
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">2:00 pm - 4:00 pm</div>
              <div class="act-cost">$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 45 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>

          <div class="act">
            <%= image_tag "jazzConcert.jpg"%>
            <div class = "act-detail">
              <div class="act-name">SF Jazz Festival
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">4:00 pm - 8:00 pm</div>
              <div class="act-cost">$$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 20 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>
          <div class="act">
            <%= image_tag "destino.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Dinner at Destino
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">4:00 pm - 8:00 pm</div>
              <div class="act-cost">$$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
        </li>
        <li class = "day">
          <div class="title">DAY 2</div>
          <div class="act">
            <%= image_tag "whale.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Whale Watching
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">8:00 am - 2:00 pm</div>
              <div class="act-cost">$$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 35 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>
          <div class="act">
            <%= image_tag "ideale.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Lunch at Ristorente Ideal
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">2:00 pm - 4:00 pm</div>
              <div class="act-cost">$$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 40 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>
          <div class="act">
            <%= image_tag "buena-vista.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Buena Vista Park
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">4:00 pm - 7:00 pm</div>
              <div class="act-cost">Free</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
          <!--Commute details-->
          <div class="commute_detail">
            <div id="left_arrow"> <%= image_tag "arrowicon1.png"%></div> <%= image_tag "mapicon.jpg"%> 25 minutes <%= image_tag"caricon.png"%> <div id="right_arrow"> <%= image_tag "arrowicon2.png"%></div>
          </div>
          <div class="act">
            <%= image_tag "palmyra.jpg"%>
            <div class = "act-detail">
              <div class="act-name">Dinner at Palmyra
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%>
                <%= image_tag "star.jpg"%><%= image_tag "star.jpg"%><%= image_tag "star.jpg"%>
              </div>
              <div class="act-time">7:00 pm - 9:00 pm</div>
              <div class="act-cost">$</div>
            </div>
            <div class="act-more">  +  x</div>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div id="extra_info" class="itinerary_panel right">
    <div id="map_canvas"></div>

    <p>
      You remember that bridge that magneto flew to that island? You're going to the San Francisco Bay Area where you can walk on the bridge AND the island!<br><br>
      <em>The total cost of your schedule is</em> <b>$ 200.00</b>
    </p>

    <form>
      <input type="submit" value="Save the Schedule">
    </form>
  </div>
</div>

</div>
<%= render :partial => "./layouts/footer" %>
</body>
</html>