<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
  	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
	<script src="js/jquery.tagsinput.js"></script>
	<link rel="stylesheet" type="text/css" href="css/jquery.tagsinput.css" />
  	<style type="text/css">
		p.content-one {
		    display:none;
		}
	</style>
 
	<!-- GET THE GOOGLE MAP API -->
	<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

	<script type="text/javascript">

		// Initialize google map
		var map;
		$(window).load(
			// Map initializer
			function initialize() {
				debugger
				var mapOptions = {
					center : new google.maps.LatLng(37.772886,-122.419496),
					zoom : 8,
					draggable : true,
					draggingCursor : 'pointer',
					mapTypeControl : true,
					disableDoubleClickZoom : true,
					streetViewControl : false,

					mapTypeId : google.maps.MapTypeId.ROADMAP
				// take out street view
				};
				map = new google.maps.Map(document.getElementById("map_canvas"),
						mapOptions);
			}

		);

		// Pimp the DOM
		var availableTags = [
		      "Hiking",
		      "Brunch",
		      "Museums",
		      "Biking",
		      "Beach",
		      "Concert"
		    ];

		$(document).ready(function() {
			// Datepicker
		    $( "#start_date" ).datepicker();
		    $( "#end_date" ).datepicker();

		    // tags
		    $('.expand-one').click(function(){
		    $('.content-one').slideToggle('slow');
		    });
		    $('#tags').tagsInput({
		        autocomplete_url: availableTags
		    });
		    $('.activity').click(function(evt){
		      	$('#tags').addTag($(evt.target).text());});

		    //set form values
			var formData = location.search;
			formData = formData.substring(1, formData.length);

			formData = unescape(formData);
			var formArray = formData.split("&");
			var startDate = formArray[0].substring(formArray[0].indexOf("=")+1, formArray[0].length);
			var endDate = formArray[1].substring(formArray[1].indexOf("=")+1, formArray[1].length);
			var budget = formArray[2].substring(formArray[2].indexOf("=")+1, formArray[2].length);

			$('#start_date').val(startDate);
			$('#end_date').val(endDate);
			$('#budget').val(budget);
		});
	</script>
</head>
<body>
	<header>
		<div class="wrapper">
			<a href="home.html"><img src="images/vagabonds_logo.png"></a>
			<span>A couple of memorable days in the SF Bay Area!!</span>
		</div>
	</header>
	<div id="content">
		<div class="wrapper">
			<form>
	    		<label for="start_date">Start Date: </label>
		        <input name="start_date" id="start_date" type="text">		    	
		        <label for="end_date">End Date: </label>
		        <input name="end_date" id="end_date" type="text">
	        	<label for="budget">Budget: </label>
		        <select name="budget" id = "budget">
					<option value="free">Free</option>
					<option value="cheap">Cheap</option>
					<option value="Moderate" selected>Moderate</option>
					<option value="dont-care">Don't Care</option>
				</select>  
		        <div class="activity-tags">
		        	<p class="expand-one">
		        		<label for="tags" class="tags_input">Preferred Activities:&nbsp&nbsp</label>
		        		<input name="tags" id="tags" value="Hiking, Brunch, Concert"/>
		        	</p>
				    <p class="content-one">
				    	<span class = "activity">Hiking</span> |
				    	<span class = "activity">Brunch</span> |
				    	<span class = "activity">Museums</span> |
				    	<span class = "activity">Biking</span> |
				    	<span class = "activity">Beach</span> |
				    	<span class = "activity">Concert</span>
				    </p>
		        </div>
		        <input class="auto-update" type="submit" value="Make Itinerary">
		    </form>
			
		</div>

		<!-- On the left the schedule; on the right the map, location description, and save itinerary button -->
		<div class="itinerary">
			<div id="schedule" class="panel left">
				
			</div>
			<div id="extra_info" class="panel right">
				<div id="map_canvas"></div>

				<p>
					You remember that bridge that magneto flew to that island? You're going to the San Francisco Bay Area where you can walk on the bridge AND the island!<br><br>
					<em>The total cost of your schedule is</em> <b>$ 200.00</b>
				</p>

				<form>
					<input type="submit" value="Save the Schedule">
				</form>
			</div>
		</div>
	</div>
	<footer>
		<div class="wrapper">
			Vagabonds - Trip Planning Made Easy and Awesome
		</div>
	</footer>
</body>
</html>